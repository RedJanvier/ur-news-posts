{"version":3,"sources":["components/Modal/Modal.js","context/AppReducers.js","context/GlobalState.js","pages/AuthPage.js","components/NewsList/NewsPost/NewsPost.js","components/NewsList/NewsList.js","pages/HomePage.js","components/ChangeRole/ChangeRole.js","pages/AdminPage.js","components/NavBar/NavBar.js","components/Spinner/Spinner.js","pages/CreateNewsPage.js","App.js","index.js"],"names":["Modal","children","title","className","state","action","type","payload","initialState","token","userId","regNumber","role","GlobalContext","createContext","GlobalProvider","useReducer","AppReducer","dispatch","Provider","value","login","localStorage","setItem","JSON","stringify","logout","removeItem","AuthPage","props","useContext","history","useHistory","useState","page","name","password","audienceLocation","class","campus","department","school","setState","notPage","handleFormSubmit","e","a","preventDefault","requestURL","requestBody","fetch","method","body","headers","res","json","data","success","push","onSubmit","htmlFor","placeholder","onChange","target","required","parseInt","Object","assign","disabled","onClick","NewsPost","_id","creator","img","description","author","setAuthor","useEffect","response","console","log","src","alt","NewsList","news","map","single","key","HomePage","setNews","Authorization","newsRes","newsData","ChangeRole","handleSubmit","config","message","Admin","NavBar","to","Spinner","CreateNews","loading","targetType","setImg","FormData","append","rows","files","App","tkn","parse","getItem","from","exact","path","component","CreateNewsPage","AdminPage","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e7c2ce64.chunk.js","sourcesContent":["import React from 'react';\r\nimport './Modal.css';\r\n\r\nconst Modal = ({ children, title }) => {\r\n  return (\r\n    <div className=\"modal\">\r\n      <div className=\"modal__header\">\r\n        <h2>{title}</h2>\r\n      </div>\r\n      <div className=\"modal__body\">{children}</div>\r\n      <div className=\"modal__footer\">&copy;2020 All Rights Reserved</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","export default (state, action) => {\r\n  switch (action.type) {\r\n    case 'LOGIN_USER':\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    case 'LOGOUT_USER':\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React, { createContext, useReducer } from 'react';\r\nimport AppReducer from './AppReducers';\r\n\r\nconst initialState = {\r\n  token: null,\r\n  userId: null,\r\n  regNumber: null,\r\n  role: null,\r\n};\r\n\r\nexport const GlobalContext = createContext(initialState);\r\nexport const GlobalProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(AppReducer, initialState);\r\n\r\n  function login(payload) {\r\n    dispatch({\r\n      type: 'LOGIN_USER',\r\n      payload,\r\n    });\r\n    localStorage.setItem('userData', JSON.stringify(payload));\r\n  }\r\n\r\n  function logout() {\r\n    dispatch({\r\n      type: 'LOGOUT_USER',\r\n      payload: initialState,\r\n    });\r\n    localStorage.removeItem('userData');\r\n  }\r\n\r\n  return (\r\n    <GlobalContext.Provider\r\n      value={{\r\n        token: state.token,\r\n        regNumber: state.regNumber,\r\n        userId: state.userId,\r\n        role: state.role,\r\n        login,\r\n        logout,\r\n      }}\r\n    >\r\n      {children}\r\n    </GlobalContext.Provider>\r\n  );\r\n};\r\n","import React, { useState, useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport Modal from '../components/Modal/Modal';\r\nimport { GlobalContext } from '../context/GlobalState';\r\nimport './AuthPage.css';\r\n\r\nconst AuthPage = (props) => {\r\n  const { login } = useContext(GlobalContext);\r\n  const history = useHistory();\r\n  const [state, setState] = useState({\r\n    page: 'login',\r\n    name: '',\r\n    regNumber: 0,\r\n    password: '',\r\n    audienceLocation: {\r\n      class: '',\r\n      campus: '',\r\n      department: '',\r\n      school: '',\r\n    },\r\n  });\r\n  const notPage = state.page === 'login' ? 'register' : 'login';\r\n\r\n  const handleFormSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const requestURL = `http://localhost:4000/api/v1/users/${state.page}`;\r\n    const requestBody = {\r\n      name: state.name,\r\n      regNumber: state.regNumber,\r\n      password: state.password,\r\n      ...state.audienceLocation,\r\n    };\r\n\r\n    const res = await fetch(requestURL, {\r\n      method: 'POST',\r\n      body: JSON.stringify(requestBody),\r\n      headers: {\r\n        'Content-Type': 'Application/json',\r\n      },\r\n    });\r\n    const data = await res.json();\r\n\r\n    if (data.success) {\r\n      if (state.page === 'register') history.push('/');\r\n      login(data);\r\n      history.push('/home');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth-page\">\r\n      <Modal title={state.page}>\r\n        <form onSubmit={handleFormSubmit}>\r\n          {state.page === 'register' && (\r\n            <div className=\"form-control\">\r\n              <label htmlFor=\"username\">Full Name</label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"username\"\r\n                placeholder=\"Enter your Full name\"\r\n                onChange={(e) => setState({ ...state, name: e.target.value })}\r\n                required\r\n              />\r\n            </div>\r\n          )}\r\n          <div className=\"form-control\">\r\n            <label htmlFor=\"reg\">Reg. Number</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"reg\"\r\n              onChange={(e) =>\r\n                setState({ ...state, regNumber: parseInt(e.target.value) })\r\n              }\r\n              placeholder=\"Enter your RegNumber\"\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"form-control\">\r\n            <label htmlFor=\"password\">Password</label>\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              placeholder=\"Enter your Password\"\r\n              onChange={(e) => setState({ ...state, password: e.target.value })}\r\n              required\r\n            />\r\n          </div>\r\n          {state.page === 'register' && (\r\n            <>\r\n              <div className=\"form-control\">\r\n                <select\r\n                  name=\"campus\"\r\n                  value={state.audienceLocation.campus}\r\n                  onChange={(e) =>\r\n                    setState({\r\n                      ...state,\r\n                      ...Object.assign(state.audienceLocation, {\r\n                        campus: e.target.value,\r\n                      }),\r\n                    })\r\n                  }\r\n                  required\r\n                >\r\n                  <option value=\"\" disabled>\r\n                    Select a campus\r\n                  </option>\r\n                  <option value=\"CST\">UR CST - Nyarugenge</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"form-control\">\r\n                <select\r\n                  name=\"school\"\r\n                  value={state.audienceLocation.school}\r\n                  onChange={(e) =>\r\n                    setState({\r\n                      ...state,\r\n                      ...Object.assign(state.audienceLocation, {\r\n                        school: e.target.value,\r\n                      }),\r\n                    })\r\n                  }\r\n                  required\r\n                >\r\n                  <option value=\"\" disabled>\r\n                    Select your School\r\n                  </option>\r\n                  <option value=\"ICT\">School of ICT</option>\r\n                  <option value=\"MIN\">School of Mining</option>\r\n                  <option value=\"SCI\">School of Science</option>\r\n                  <option value=\"ENG\">School of Engineering</option>\r\n                  <option value=\"ARC\">School of Architecture</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"form-control\">\r\n                <label htmlFor=\"department\">Department</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"department\"\r\n                  placeholder=\"Enter your Department in abbreviations\"\r\n                  onChange={(e) =>\r\n                    setState({\r\n                      ...state,\r\n                      ...Object.assign(state.audienceLocation, {\r\n                        department: e.target.value,\r\n                      }),\r\n                    })\r\n                  }\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"form-control\">\r\n                <label htmlFor=\"class\">Combination</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"class\"\r\n                  placeholder=\"Enter your Combination in abbreviations\"\r\n                  onChange={(e) =>\r\n                    setState({\r\n                      ...state,\r\n                      ...Object.assign(state.audienceLocation, {\r\n                        class: e.target.value,\r\n                      }),\r\n                    })\r\n                  }\r\n                  required\r\n                />\r\n              </div>\r\n            </>\r\n          )}\r\n          <div className=\"form-control\">\r\n            <input type=\"submit\" className=\"btn\" value={state.page} />\r\n            <button\r\n              className=\"btn-light\"\r\n              onClick={() => setState({ ...state, page: notPage })}\r\n            >\r\n              {notPage} instead\r\n            </button>\r\n          </div>\r\n          {state.page === 'login' && (\r\n            <div className=\"form-control\">\r\n              <input type=\"checkbox\" name=\"keepSigned\" />\r\n              <label htmlFor=\"keepSigned\">Keep me signed in</label>\r\n            </div>\r\n          )}\r\n        </form>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AuthPage;\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nconst NewsPost = ({ title, _id, creator, img, description }) => {\r\n  const [author, setAuthor] = useState({});\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const res = await fetch(\r\n          `http://localhost:4000/api/v1/users/${creator}`\r\n        );\r\n        const response = await res.json();\r\n        if (response.success) {\r\n          return setAuthor(response.data);\r\n        }\r\n        return console.log(response.data);\r\n      } catch (err) {\r\n        return console.log(err);\r\n      }\r\n    })();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"news-post\">\r\n      <div className=\"news-post__header\">\r\n        <img src={img} alt={`post-hero-${_id}`} />\r\n        <h3>{title}</h3>\r\n      </div>\r\n      <div className=\"news-post__body\">\r\n        <p>{description}</p>\r\n      </div>\r\n      <div className=\"news-post__footer\">{author.name}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewsPost;\r\n","import React from 'react';\r\n\r\nimport NewsPost from './NewsPost/NewsPost';\r\nimport './NewsList.css';\r\n\r\nconst NewsList = ({ news }) => {\r\n  return (\r\n    <div className=\"news-list\">\r\n      {news.map((single) => {\r\n        return <NewsPost key={single._id} {...single} />;\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewsList;\r\n","import React, { useState, useContext, useEffect } from 'react';\r\n\r\nimport { GlobalContext } from '../context/GlobalState';\r\nimport NewsList from '../components/NewsList/NewsList';\r\n\r\nconst HomePage = (props) => {\r\n  const { token } = useContext(GlobalContext);\r\n  const [news, setNews] = useState([]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const newsRes = await fetch('http://localhost:4000/api/v1/news', {\r\n          method: 'GET',\r\n          headers: {\r\n            'Content-Type': 'Application/json',\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        });\r\n        const newsData = await newsRes.json();\r\n        if (newsData.success) {\r\n          setNews(newsData.data);\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    })();\r\n  }, [token]);\r\n\r\n  return (\r\n    <div className=\"home-page\">\r\n      <NewsList news={news} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n","import React, { useState } from 'react';\r\n\r\nimport Modal from '../Modal/Modal';\r\n\r\nconst ChangeRole = ({ role, token }) => {\r\n  const [state, setState] = useState({ role: '', regNumber: null });\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const config = {\r\n        headers: {\r\n          'Content-Type': 'Application/json',\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify(state),\r\n        method: 'POST',\r\n      };\r\n\r\n      const res = await fetch(`http://localhost:4000/api/v1/users`, config);\r\n      const response = await res.json();\r\n      console.log(response.message);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal title=\"Update Role\">\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form-control\">\r\n          <label htmlFor=\"reg\">Reg. Number</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"reg\"\r\n            onChange={(e) =>\r\n              setState({ ...state, regNumber: parseInt(e.target.value) })\r\n            }\r\n            placeholder=\"Enter your RegNumber\"\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-control\">\r\n          <select\r\n            name=\"role\"\r\n            value={state.role}\r\n            onChange={(e) =>\r\n              setState({\r\n                ...state,\r\n                role: e.target.value,\r\n              })\r\n            }\r\n            required\r\n          >\r\n            <option value=\"\" disabled>\r\n              Select a Role\r\n            </option>\r\n            <option value=\"student\">Student</option>\r\n            <option value=\"staff\">Staff Member</option>\r\n            <option value=\"admin\">Admin</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"form-control\">\r\n          <button type=\"submit\" className=\"btn\">\r\n            Update\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default ChangeRole;\r\n","import React, { useContext } from 'react';\r\n\r\nimport './AdminPage.css';\r\nimport { GlobalContext } from '../context/GlobalState';\r\nimport ChangeRole from '../components/ChangeRole/ChangeRole';\r\n\r\nconst Admin = (props) => {\r\n  const { role, token } = useContext(GlobalContext);\r\n  return (\r\n    <div className=\"admin-page\">\r\n      <ChangeRole role={role} token={token} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Admin;\r\n","import React, { useContext } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport { GlobalContext } from '../../context/GlobalState';\r\nimport './Search.css';\r\n\r\nconst NavBar = (props) => {\r\n  const { token, logout, role } = useContext(GlobalContext);\r\n  return (\r\n    <div className=\"search\">\r\n      <div className=\"logo\">\r\n        <h2>UR News Post</h2>\r\n      </div>\r\n      <div className=\"navbar__links\">\r\n        <ul>\r\n          {!token ? (\r\n            <li>\r\n              <NavLink to=\"/auth\" className=\"otherBtns\">\r\n                Login\r\n              </NavLink>\r\n            </li>\r\n          ) : (\r\n            <li>\r\n              <button className=\"otherBtns\" onClick={logout}>\r\n                Logout\r\n              </button>\r\n            </li>\r\n          )}\r\n          {role === 'admin' && (\r\n            <li>\r\n              <NavLink to=\"/admin\" className=\"otherBtns\">\r\n                Admin\r\n              </NavLink>\r\n            </li>\r\n          )}\r\n          {role !== 'student' && (\r\n            <li>\r\n              <NavLink to=\"/create\" className=\"otherBtns\">\r\n                Create News\r\n              </NavLink>\r\n            </li>\r\n          )}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import React from 'react';\r\n\r\nimport './Spinner.css';\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className=\"spinner\">\r\n      <div className=\"lds-ellipsis\">\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport Modal from '../components/Modal/Modal';\r\nimport Spinner from '../components/Spinner/Spinner';\r\n\r\nconst CreateNews = ({ role = 'student', token }) => {\r\n  const history = useHistory();\r\n  const [state, setState] = useState({\r\n    title: '',\r\n    target: '',\r\n    loading: false,\r\n    targetType: '',\r\n    description: '',\r\n  });\r\n  const [img, setImg] = useState({});\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setState({ ...state, loading: true });\r\n    try {\r\n      const { title, description, target, targetType } = state;\r\n      const body = new FormData();\r\n      body.append('img', img);\r\n      body.append('title', title);\r\n      body.append('target', target);\r\n      body.append('targetType', targetType);\r\n      body.append('description', description);\r\n\r\n      const config = {\r\n        body,\r\n        method: 'POST',\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      };\r\n      const res = await fetch(\r\n        'http://localhost:4000/api/v1/news/create',\r\n        config\r\n      );\r\n      const { success } = await res.json();\r\n\r\n      setState({ ...state, loading: false });\r\n      if (success) history.push('/home');\r\n    } catch (error) {\r\n      console.log(error);\r\n      setState({ ...state, loading: false });\r\n    }\r\n  };\r\n\r\n  return role === 'student' ? null : (\r\n    <Modal title=\"Create News\">\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form-control\">\r\n          <label htmlFor=\"title\">Title</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"title\"\r\n            onChange={(e) => setState({ ...state, title: e.target.value })}\r\n            placeholder=\"News title\"\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-control\">\r\n          <label htmlFor=\"description\">Description</label>\r\n          <textarea\r\n            name=\"description\"\r\n            onChange={(e) =>\r\n              setState({ ...state, description: e.target.value })\r\n            }\r\n            placeholder=\"News description\"\r\n            required\r\n            rows=\"3\"\r\n          ></textarea>\r\n        </div>\r\n        <div className=\"form-control\">\r\n          <label htmlFor=\"image\">Image</label>\r\n          <input\r\n            type=\"file\"\r\n            name=\"image\"\r\n            onChange={(e) => setImg(e.target.files[0])}\r\n            placeholder=\"News image\"\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-control\">\r\n          <select\r\n            name=\"targetType\"\r\n            value={state.targetType}\r\n            onChange={(e) =>\r\n              setState({\r\n                ...state,\r\n                targetType: e.target.value,\r\n              })\r\n            }\r\n            required\r\n          >\r\n            <option value=\"\" disabled>\r\n              Select your Audience type\r\n            </option>\r\n            <option value=\"campus\">All the campus</option>\r\n            <option value=\"school\">Specific school</option>\r\n            <option value=\"department\">Specific department</option>\r\n            <option value=\"class\">Specific combination</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"form-control\">\r\n          <label htmlFor=\"target\">Audience</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"target\"\r\n            onChange={(e) => setState({ ...state, target: e.target.value })}\r\n            placeholder=\"News Audience in abbreviation\"\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-control\">\r\n          <button type=\"submit\" className=\"btn\" disabled={state.loading}>\r\n            {state.loading ? <Spinner /> : 'Create'}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default CreateNews;\r\n","import React, { useContext, useEffect } from 'react';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Switch,\r\n  Redirect,\r\n} from 'react-router-dom';\r\n\r\nimport './App.css';\r\nimport AuthPage from './pages/AuthPage';\r\nimport HomePage from './pages/HomePage';\r\nimport AdminPage from './pages/AdminPage';\r\nimport Navbar from './components/NavBar/NavBar';\r\nimport CreateNewsPage from './pages/CreateNewsPage';\r\nimport { GlobalContext } from './context/GlobalState';\r\n\r\nconst App = () => {\r\n  let token = '';\r\n  const { token: tkn, login, role } = useContext(GlobalContext);\r\n\r\n  useEffect(() => {\r\n    if (!tkn) {\r\n      const data = JSON.parse(localStorage.getItem('userData'));\r\n      return login(data);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, []);\r\n  token = tkn;\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n        <>\r\n          {token && <Navbar />}\r\n          <main className=\"page\">\r\n            <Switch>\r\n              {role !== 'admin' && <Redirect from=\"/admin\" to=\"/\" exact />}\r\n              {role === 'student' && <Redirect from=\"/create\" to=\"/\" exact />}\r\n              {!token && <Redirect from=\"/\" to=\"/auth\" exact />}\r\n              {!token && <Redirect from=\"/home\" to=\"/auth\" exact />}\r\n              {!token && <Redirect from=\"/create\" to=\"/auth\" exact />}\r\n              {token && <Redirect from=\"/\" to=\"/home\" exact />}\r\n              {token && <Redirect from=\"/auth\" to=\"/home\" exact />}\r\n              {role === 'student' && (\r\n                <Redirect from=\"/create\" to=\"/home\" exact />\r\n              )}\r\n              {role === 'student' && (\r\n                <Redirect from=\"/admin\" to=\"/home\" exact />\r\n              )}\r\n              <Route path=\"/auth\" component={AuthPage} exact />\r\n              <Route path=\"/home\" component={HomePage} exact />\r\n\r\n              <Route path=\"/create\" exact>\r\n                <CreateNewsPage role={role} token={token} />\r\n              </Route>\r\n              <Route path=\"/admin\" component={AdminPage} exact />\r\n            </Switch>\r\n          </main>\r\n        </>\r\n      </Router>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport App from './App';\r\nimport { GlobalProvider as Provider } from './context/GlobalState';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}